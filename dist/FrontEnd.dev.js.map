{"version":3,"file":"FrontEnd.dev.js","sources":["../src/util/misc.js","../src/util/env.js"],"sourcesContent":["export const toLowerCase = s => String(s || '').toLowerCase();\nexport const toUpperCase = s => String(s || '').toUpperCase();\nexport const padZero = num => (num.toString().length < 2 ? `0${num}` : num);\n// 2017-9-10 10:10 => 1505009400000\nexport const parseDateStr2Timestamp = (datestr='') => {\n  const regex = /^(\\d+)[-/](\\d+)[-/](\\d+)(?:[T\\s](\\d+):(\\d+)(?::(\\d+))?)?$/;\n  const matched = datestr.toString().match(regex);\n  if (matched) {\n    const [, YYYY, MM, DD, HH = '00', mm = '00', ss = '00'] = matched;\n    const timeString = `${YYYY}-${padZero(MM)}-${padZero(DD)}T${padZero(HH)}:${padZero(mm)}:${padZero(ss)}.000+08:00`;\n    return Date.parse(timeString);\n  }\n  return Number.NaN;\n}\n","import { toLowerCase } from \"./misc\";\n\nconst { userAgent } = navigator;\nconst { devicePixelRatio } = window;\nconst { width, height } = window.screen;\n\n// specific platform\nexport const isApple = (/iPhone|iPad|iPod|Macintosh/i).test(userAgent);\nexport const isAndroid = (/Android/i).test(userAgent);\nexport const isWeiXin = (/MicroMessenger/i).test(userAgent);\nexport const isQQ = (/\\bQQ\\b/i).test(userAgent);\nexport const isWeiBo = (/Weibo/i).test(userAgent);\nexport const isChrome = (/(Chrome|CriOS)\\/[\\d.]+/).test(userAgent);\nexport const isQQBrowser = (/QQBrowser/i).test(userAgent);\n\nexport const screenWidth = width;\nexport const screenHeight = height;\nexport const deviceWidth = screenWidth * devicePixelRatio;\nexport const deviceHeight = screenHeight * devicePixelRatio;\nexport const pageWidth = 750;\nexport const pageHeight = deviceHeight * pageWidth / deviceWidth;\n\n// specific device\nexport const isIPhone5OrSE = isApple\n  && screenHeight === 568\n  && devicePixelRatio === 2;\n\nexport const isIPhone678 = isApple\n  && screenHeight === 667\n  && devicePixelRatio === 2;\n\nexport const isIPhone678Plus = isApple\n  && screenHeight === 736\n  && devicePixelRatio === 3;\n\nexport const isIPhoneX = isApple\n  && screenHeight === 812;\n\nexport const isIPhoneXR = isApple\n  && screenHeight === 896\n  && devicePixelRatio === 2;\n\nexport const isIPhoneXS = isApple\n  && screenHeight === 812\n  && devicePixelRatio === 3;\n\nexport const isIPhoneXSMax = isApple\n  && screenHeight === 896\n  && devicePixelRatio === 3;\n\nexport const isBangsScreen = isIPhoneX || isIPhoneXR || isIPhoneXS || isIPhoneXSMax;\n\nconst getAppInfo = () => {\n  let appName = '';\n  let appVersion = '';\n  const matched = userAgent.match(/AliApp\\(([\\w-]+)\\/([\\d.]+)\\)/i);\n  if (matched) {\n    [, appName, appVersion] = matched;\n  }\n  return { appName, appVersion };\n};\nconst { appName: _appName, appVersion: _appVersion } = getAppInfo();\nexport const appName = toLowerCase(_appName);\nexport const appVersion = _appVersion;\nexport const isAliApp = appName !== '';\nexport const isHema = appName === 'wdkhema';\nexport const isTaoBao = appName === 'tb';\nexport const isTmall = appName === 'tm';\nexport const isDingTalk = appName === 'dingtalk';\n\nconst getOSVersion = () => {\n  if(isApple) {\n    const matched = userAgent.match(/OS ([\\d_.]+) like Mac OS X/);\n    if(matched) {\n      return matched[1].split('_').join('.');\n    }\n  }else if(isAndroid) {\n    const matched = userAgent.match(/Android[\\s/]([\\d.]+)/);\n    if(matched) {\n      return matched[1];\n    }\n  }\n  return '';\n};\nexport const osVersion = getOSVersion();\n"],"names":["const","let","matched"],"mappings":"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"}